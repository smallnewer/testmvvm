<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>QUnit Example</title>
  <link rel="stylesheet" href="qunit-1.14.0.css">
</head>
<body>
    <template>
        {{elem1}}
    </template>
<div id="qunit"  ms-repeat-elem="b">
    <div>{{$index+1}}.{{elem.name}}{{elem.age}}</div>
    <ul>
      <li ms-repeat-item="elem.childs">{{elem.$index+1}}.{{$index+1}}：{{item.name}}</li>
    </ul>
</div>
<div id="qunit-fixture"></div>
<script src="../src/model.js"></script>
<script>
var a = avalon.model({
    a: {},
    b: [
        {
            name: "呵呵",
            childs: [
              {
                name: "孩子",
                age: 30
              },
              {
                name: "孩子",
                age: 31
              }
            ],
            age: 19
        },{
            name: "呵呵",
            childs: [
              {
                name: "孩子",
                age: 30
              },
              {
                name: "孩子",
                age: 31
              }
            ],
            age: 20
        },{
            name: "呵呵",
            childs: [
              {
                name: "孩子",
                age: 30
              },
              {
                name: "孩子",
                age: 31
              }
            ],
            age: 21
        }
    ]
});
var view = avalon.view(document.getElementById('qunit').outerHTML, a);
view.appendTo(document.body)
document.body.appendChild(view.dom)
// 
// 性能测试
// var arr = [];
// for (var i = 0; i < 2; i++) {
//     arr.push({
//         name: "呵呵" + i,
//         age: i
//     })
// };


// console.time("2000条数据初次Model");
// var test1 = avalon.model({
//     b : arr
// });
// console.timeEnd("2000条数据初次Model");
// console.time("2000条数据初次生成DOM");
// var view = avalon.view(document.getElementById('qunit').outerHTML, test1);
// console.timeEnd("2000条数据初次生成DOM");
// console.time("2000条数据初次渲染");
// view.appendTo(document.body)
// console.timeEnd("2000条数据初次渲染");
// test1.b.push({name:55,age:66})
</script>
</body>
</html>